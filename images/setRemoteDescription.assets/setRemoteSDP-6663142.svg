<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="4594" height="1725" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[ARDClient->RTCPeerConnection: setRemoteDescription
RTCPeerConnection->PeerConnectionProxyWithInternal: SetRemoteDescription
PeerConnectionProxyWithInternal->PeerConnection: SetRemoteDescription
PeerConnection->SdpOfferAnswerHandler: SetRemoteDescription
Note right of SdpOfferAnswerHandler: ChainOperation
SdpOfferAnswerHandler->SdpOfferAnswerHandler: DoSetRemoteDescription
SdpOfferAnswerHandler->SdpOfferAnswerHandler: ApplyRemoteDescription
SdpOfferAnswerHandler->SdpOfferAnswerHandler: UpdateSessionState
SdpOfferAnswerHandler->SdpOfferAnswerHandler: PushdownMediaDescription
SdpOfferAnswerHandler->SdpOfferAnswerHandler: ApplyChannelUpdates
SdpOfferAnswerHandler->BaseChannel: SetRemoteContent
BaseChannel->VideoChannel: SetRemoteContent_w
VideoChannel->WebRtcVideoChannel: SetSendParameters
WebRtcVideoChannel->WebRtcVideoChannel: ApplyChangedParams
WebRtcVideoChannel->WebRtcVideoChannel: SetSendParameters
WebRtcVideoChannel->WebRtcVideoChannel: SetCodec
WebRtcVideoChannel->WebRtcVideoChannel: RecreateWebRtcStream
Call->VideoSendStream: CreateVideoSendStream
VideoSendStream->VideoSendStream: CreateVideoSendStream
VideoSendStream->VideoSendStream: VideoSendStream
VideoSendStream->VideoStreamEncoder: VideoStreamEncoder
VideoStreamEncoder->VideoSourceSinkController: VideoStreamEncoder
WebRtcVideoSendStream->VideoSendStream: SetSource
VideoSendStream->VideoStreamEncoder: SetSource
VideoStreamEncoder->VideoSourceSinkController: SetSource
Note right of VideoTrack: VideoTrackSourceInterface is \nObjcVideoTrackSource
Note right of VideoTrack: VideoTrackSourceInterface is \nVideoTrackSourceProxyWithInternal\nfor switch thread
VideoSourceSinkController->VideoTrackSourceInterface: AddOrUpdateSink


VideoTrackSourceInterface->AdaptedVideoTrackSource: AddOrUpdateSink
AdaptedVideoTrackSource->VideoBroadcaster: AddOrUpdateSink
VideoBroadcaster->VideoSourceBase: AddOrUpdateSink
VideoBroadcaster->VideoBroadcaster: UpdateWants
AdaptedVideoTrackSource->AdaptedVideoTrackSource: OnSinkWantsChanged

Note right of SdpOfferAnswerHandler: return ApplyChangedParams
SdpOfferAnswerHandler->PeerConnectionDelegateAdapter: OnAddStream
SdpOfferAnswerHandler->PeerConnectionDelegateAdapter: OnRemoveTrack
SdpOfferAnswerHandler->PeerConnectionDelegateAdapter: OnRemoveStream

Note right of SdpOfferAnswerHandler: return DoSetRemoteDescription
SdpOfferAnswerHandler->PeerConnectionDelegateAdapter: OnSetRemoteDescriptionComplete]]></source><desc></desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker></defs><g class="title"></g><g class="actor"><rect x="10" y="20" width="106.421875" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="20" y="44.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="20">ARDClient</tspan></text></g><g class="actor"><rect x="10" y="1667.609375" width="106.421875" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="20" y="1692.125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="20">ARDClient</tspan></text></g><line x1="63.2109375" x2="63.2109375" y1="58" y2="1667.609375" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><g class="actor"><rect x="183.625" y="20" width="183.234375" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="193.625" y="44.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="193.625">RTCPeerConnection</tspan></text></g><g class="actor"><rect x="183.625" y="1667.609375" width="183.234375" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="193.625" y="1692.125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="193.625">RTCPeerConnection</tspan></text></g><line x1="275.2421875" x2="275.2421875" y1="58" y2="1667.609375" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><g class="actor"><rect x="386.859375" y="20" width="317.65625" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="396.859375" y="44.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="396.859375">PeerConnectionProxyWithInternal</tspan></text></g><g class="actor"><rect x="386.859375" y="1667.609375" width="317.65625" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="396.859375" y="1692.125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="396.859375">PeerConnectionProxyWithInternal</tspan></text></g><line x1="545.6875" x2="545.6875" y1="58" y2="1667.609375" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><g class="actor"><rect x="724.515625" y="20" width="154.421875" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="734.515625" y="44.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="734.515625">PeerConnection</tspan></text></g><g class="actor"><rect x="724.515625" y="1667.609375" width="154.421875" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="734.515625" y="1692.125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="734.515625">PeerConnection</tspan></text></g><line x1="801.7265625" x2="801.7265625" y1="58" y2="1667.609375" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><g class="actor"><rect x="902.9375" y="20" width="221.640625" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="912.9375" y="44.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="912.9375">SdpOfferAnswerHandler</tspan></text></g><g class="actor"><rect x="902.9375" y="1667.609375" width="221.640625" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="912.9375" y="1692.125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="912.9375">SdpOfferAnswerHandler</tspan></text></g><line x1="1013.7578125" x2="1013.7578125" y1="58" y2="1667.609375" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><g class="actor"><rect x="1279.3984375" y="20" width="125.625" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="1289.3984375" y="44.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1289.3984375">BaseChannel</tspan></text></g><g class="actor"><rect x="1279.3984375" y="1667.609375" width="125.625" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="1289.3984375" y="1692.125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1289.3984375">BaseChannel</tspan></text></g><line x1="1342.2109375" x2="1342.2109375" y1="58" y2="1667.609375" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><g class="actor"><rect x="1467.4296875" y="20" width="135.21875" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="1477.4296875" y="44.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1477.4296875">VideoChannel</tspan></text></g><g class="actor"><rect x="1467.4296875" y="1667.609375" width="135.21875" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="1477.4296875" y="1692.125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1477.4296875">VideoChannel</tspan></text></g><line x1="1535.0390625" x2="1535.0390625" y1="58" y2="1667.609375" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><g class="actor"><rect x="1622.6484375" y="20" width="192.828125" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="1632.6484375" y="44.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1632.6484375">WebRtcVideoChannel</tspan></text></g><g class="actor"><rect x="1622.6484375" y="1667.609375" width="192.828125" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="1632.6484375" y="1692.125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1632.6484375">WebRtcVideoChannel</tspan></text></g><line x1="1719.0625" x2="1719.0625" y1="58" y2="1667.609375" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><g class="actor"><rect x="1921.890625" y="20" width="58.40625" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="1931.890625" y="44.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1931.890625">Call</tspan></text></g><g class="actor"><rect x="1921.890625" y="1667.609375" width="58.40625" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="1931.890625" y="1692.125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1931.890625">Call</tspan></text></g><line x1="1951.09375" x2="1951.09375" y1="58" y2="1667.609375" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><g class="actor"><rect x="2090.71875" y="20" width="164.03125" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="2100.71875" y="44.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="2100.71875">VideoSendStream</tspan></text></g><g class="actor"><rect x="2090.71875" y="1667.609375" width="164.03125" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="2100.71875" y="1692.125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="2100.71875">VideoSendStream</tspan></text></g><line x1="2172.734375" x2="2172.734375" y1="58" y2="1667.609375" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><g class="actor"><rect x="2317.9609375" y="20" width="192.828125" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="2327.9609375" y="44.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="2327.9609375">VideoStreamEncoder</tspan></text></g><g class="actor"><rect x="2317.9609375" y="1667.609375" width="192.828125" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="2327.9609375" y="1692.125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="2327.9609375">VideoStreamEncoder</tspan></text></g><line x1="2414.375" x2="2414.375" y1="58" y2="1667.609375" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><g class="actor"><rect x="2530.7890625" y="20" width="260.046875" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="2540.7890625" y="44.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="2540.7890625">VideoSourceSinkController</tspan></text></g><g class="actor"><rect x="2530.7890625" y="1667.609375" width="260.046875" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="2540.7890625" y="1692.125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="2540.7890625">VideoSourceSinkController</tspan></text></g><line x1="2660.8125" x2="2660.8125" y1="58" y2="1667.609375" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><g class="actor"><rect x="2810.8359375" y="20" width="221.640625" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="2820.8359375" y="44.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="2820.8359375">WebRtcVideoSendStream</tspan></text></g><g class="actor"><rect x="2810.8359375" y="1667.609375" width="221.640625" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="2820.8359375" y="1692.125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="2820.8359375">WebRtcVideoSendStream</tspan></text></g><line x1="2921.65625" x2="2921.65625" y1="58" y2="1667.609375" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><g class="actor"><rect x="3052.4765625" y="20" width="116.015625" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="3062.4765625" y="44.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="3062.4765625">VideoTrack</tspan></text></g><g class="actor"><rect x="3052.4765625" y="1667.609375" width="116.015625" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="3062.4765625" y="1692.125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="3062.4765625">VideoTrack</tspan></text></g><line x1="3110.484375" x2="3110.484375" y1="58" y2="1667.609375" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><g class="actor"><rect x="3347.3203125" y="20" width="260.046875" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="3357.3203125" y="44.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="3357.3203125">VideoTrackSourceInterface</tspan></text></g><g class="actor"><rect x="3347.3203125" y="1667.609375" width="260.046875" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="3357.3203125" y="1692.125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="3357.3203125">VideoTrackSourceInterface</tspan></text></g><line x1="3477.34375" x2="3477.34375" y1="58" y2="1667.609375" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><g class="actor"><rect x="3627.3671875" y="20" width="240.84375" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="3637.3671875" y="44.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="3637.3671875">AdaptedVideoTrackSource</tspan></text></g><g class="actor"><rect x="3627.3671875" y="1667.609375" width="240.84375" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="3637.3671875" y="1692.125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="3637.3671875">AdaptedVideoTrackSource</tspan></text></g><line x1="3747.7890625" x2="3747.7890625" y1="58" y2="1667.609375" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><g class="actor"><rect x="3888.2109375" y="20" width="173.625" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="3898.2109375" y="44.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="3898.2109375">VideoBroadcaster</tspan></text></g><g class="actor"><rect x="3888.2109375" y="1667.609375" width="173.625" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="3898.2109375" y="1692.125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="3898.2109375">VideoBroadcaster</tspan></text></g><line x1="3975.0234375" x2="3975.0234375" y1="58" y2="1667.609375" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><g class="actor"><rect x="4081.8359375" y="20" width="164.03125" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="4091.8359375" y="44.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="4091.8359375">VideoSourceBase</tspan></text></g><g class="actor"><rect x="4081.8359375" y="1667.609375" width="164.03125" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="4091.8359375" y="1692.125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="4091.8359375">VideoSourceBase</tspan></text></g><line x1="4163.8515625" x2="4163.8515625" y1="58" y2="1667.609375" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><g class="actor"><rect x="4265.8671875" y="20" width="298.453125" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="4275.8671875" y="44.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="4275.8671875">PeerConnectionDelegateAdapter</tspan></text></g><g class="actor"><rect x="4265.8671875" y="1667.609375" width="298.453125" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="4275.8671875" y="1692.125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="4275.8671875">PeerConnectionDelegateAdapter</tspan></text></g><line x1="4415.09375" x2="4415.09375" y1="58" y2="1667.609375" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><g class="signal"><text x="73.2109375" y="88.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="73.2109375">setRemoteDescription</tspan></text><line x1="63.2109375" x2="275.2421875" y1="96" y2="96" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="314.44921875" y="126.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="314.44921875">SetRemoteDescription</tspan></text><line x1="275.2421875" x2="545.6875" y1="134" y2="134" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="577.69140625" y="164.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="577.69140625">SetRemoteDescription</tspan></text><line x1="545.6875" x2="801.7265625" y1="172" y2="172" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="811.7265625" y="202.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="811.7265625">SetRemoteDescription</tspan></text><line x1="801.7265625" x2="1013.7578125" y1="210" y2="210" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="note"><rect x="1033.7578125" y="230" width="144.421875" height="28" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="1038.7578125" y="249.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1038.7578125">ChainOperation</tspan></text></g><g class="signal"><text x="1038.7578125" y="292" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1038.7578125">DoSetRemoteDescription</tspan></text><line x1="1013.7578125" x2="1033.7578125" y1="278" y2="278" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><line x1="1033.7578125" x2="1033.7578125" y1="278" y2="301" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><line x1="1033.7578125" x2="1013.7578125" y1="301" y2="301" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="1038.7578125" y="330" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1038.7578125">ApplyRemoteDescription</tspan></text><line x1="1013.7578125" x2="1033.7578125" y1="316" y2="316" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><line x1="1033.7578125" x2="1033.7578125" y1="316" y2="339" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><line x1="1033.7578125" x2="1013.7578125" y1="339" y2="339" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="1038.7578125" y="368" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1038.7578125">UpdateSessionState</tspan></text><line x1="1013.7578125" x2="1033.7578125" y1="354" y2="354" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><line x1="1033.7578125" x2="1033.7578125" y1="354" y2="377" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><line x1="1033.7578125" x2="1013.7578125" y1="377" y2="377" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="1038.7578125" y="406" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1038.7578125">PushdownMediaDescription</tspan></text><line x1="1013.7578125" x2="1033.7578125" y1="392" y2="392" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><line x1="1033.7578125" x2="1033.7578125" y1="392" y2="415" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><line x1="1033.7578125" x2="1013.7578125" y1="415" y2="415" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="1038.7578125" y="444" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1038.7578125">ApplyChannelUpdates</tspan></text><line x1="1013.7578125" x2="1033.7578125" y1="430" y2="430" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><line x1="1033.7578125" x2="1033.7578125" y1="430" y2="453" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><line x1="1033.7578125" x2="1013.7578125" y1="453" y2="453" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="1101.171875" y="478.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1101.171875">SetRemoteContent</tspan></text><line x1="1013.7578125" x2="1342.2109375" y1="486" y2="486" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="1352.2109375" y="516.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1352.2109375">SetRemoteContent_w</tspan></text><line x1="1342.2109375" x2="1535.0390625" y1="524" y2="524" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="1545.43359375" y="554.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1545.43359375">SetSendParameters</tspan></text><line x1="1535.0390625" x2="1719.0625" y1="562" y2="562" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="1744.0625" y="596" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1744.0625">ApplyChangedParams</tspan></text><line x1="1719.0625" x2="1739.0625" y1="582" y2="582" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><line x1="1739.0625" x2="1739.0625" y1="582" y2="605" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><line x1="1739.0625" x2="1719.0625" y1="605" y2="605" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="1744.0625" y="634" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1744.0625">SetSendParameters</tspan></text><line x1="1719.0625" x2="1739.0625" y1="620" y2="620" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><line x1="1739.0625" x2="1739.0625" y1="620" y2="643" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><line x1="1739.0625" x2="1719.0625" y1="643" y2="643" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="1744.0625" y="672" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1744.0625">SetCodec</tspan></text><line x1="1719.0625" x2="1739.0625" y1="658" y2="658" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><line x1="1739.0625" x2="1739.0625" y1="658" y2="681" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><line x1="1739.0625" x2="1719.0625" y1="681" y2="681" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="1744.0625" y="710" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1744.0625">RecreateWebRtcStream</tspan></text><line x1="1719.0625" x2="1739.0625" y1="696" y2="696" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><line x1="1739.0625" x2="1739.0625" y1="696" y2="719" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><line x1="1739.0625" x2="1719.0625" y1="719" y2="719" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="1961.09375" y="744.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1961.09375">CreateVideoSendStream</tspan></text><line x1="1951.09375" x2="2172.734375" y1="752" y2="752" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="2197.734375" y="786" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="2197.734375">CreateVideoSendStream</tspan></text><line x1="2172.734375" x2="2192.734375" y1="772" y2="772" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><line x1="2192.734375" x2="2192.734375" y1="772" y2="795" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><line x1="2192.734375" x2="2172.734375" y1="795" y2="795" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="2197.734375" y="824" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="2197.734375">VideoSendStream</tspan></text><line x1="2172.734375" x2="2192.734375" y1="810" y2="810" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><line x1="2192.734375" x2="2192.734375" y1="810" y2="833" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><line x1="2192.734375" x2="2172.734375" y1="833" y2="833" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="2207.140625" y="858.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="2207.140625">VideoStreamEncoder</tspan></text><line x1="2172.734375" x2="2414.375" y1="866" y2="866" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="2451.1796875" y="896.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="2451.1796875">VideoStreamEncoder</tspan></text><line x1="2414.375" x2="2660.8125" y1="904" y2="904" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="2503.984375" y="934.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="2503.984375">SetSource</tspan></text><line x1="2921.65625" x2="2172.734375" y1="942" y2="942" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="2250.34375" y="972.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="2250.34375">SetSource</tspan></text><line x1="2172.734375" x2="2414.375" y1="980" y2="980" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="2494.3828125" y="1010.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="2494.3828125">SetSource</tspan></text><line x1="2414.375" x2="2660.8125" y1="1018" y2="1018" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="note"><rect x="3130.484375" y="1038" width="278.84375" height="47.203125" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="3135.484375" y="1057.515625" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="3135.484375">VideoTrackSourceInterface is</tspan><tspan dy="1.2em" x="3135.484375">ObjcVideoTrackSource</tspan></text></g><g class="note"><rect x="3130.484375" y="1105.203125" width="326.859375" height="66.40625" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="3135.484375" y="1124.71875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="3135.484375">VideoTrackSourceInterface is</tspan><tspan dy="1.2em" x="3135.484375">VideoTrackSourceProxyWithInternal</tspan><tspan dy="1.2em" x="3135.484375">for switch thread</tspan></text></g><g class="signal"><text x="2997.0625" y="1202.125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="2997.0625">AddOrUpdateSink</tspan></text><line x1="2660.8125" x2="3477.34375" y1="1209.609375" y2="1209.609375" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="3540.55078125" y="1240.125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="3540.55078125">AddOrUpdateSink</tspan></text><line x1="3477.34375" x2="3747.7890625" y1="1247.609375" y2="1247.609375" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="3789.390625" y="1278.125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="3789.390625">AddOrUpdateSink</tspan></text><line x1="3747.7890625" x2="3975.0234375" y1="1285.609375" y2="1285.609375" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="3997.421875" y="1316.125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="3997.421875">AddOrUpdateSink</tspan></text><line x1="3975.0234375" x2="4163.8515625" y1="1323.609375" y2="1323.609375" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="4000.0234375" y="1357.609375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="4000.0234375">UpdateWants</tspan></text><line x1="3975.0234375" x2="3995.0234375" y1="1343.609375" y2="1343.609375" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><line x1="3995.0234375" x2="3995.0234375" y1="1343.609375" y2="1366.609375" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><line x1="3995.0234375" x2="3975.0234375" y1="1366.609375" y2="1366.609375" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="3772.7890625" y="1395.609375" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="3772.7890625">OnSinkWantsChanged</tspan></text><line x1="3747.7890625" x2="3767.7890625" y1="1381.609375" y2="1381.609375" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><line x1="3767.7890625" x2="3767.7890625" y1="1381.609375" y2="1404.609375" stroke="#000000" fill="none" style="stroke-width: 2px;"></line><line x1="3767.7890625" x2="3747.7890625" y1="1404.609375" y2="1404.609375" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="note"><rect x="1033.7578125" y="1419.609375" width="250.046875" height="28" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="1038.7578125" y="1439.125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1038.7578125">return ApplyChangedParams</tspan></text></g><g class="signal"><text x="2661.61328125" y="1478.125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="2661.61328125">OnAddStream</tspan></text><line x1="1013.7578125" x2="4415.09375" y1="1485.609375" y2="1485.609375" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="2652.01171875" y="1516.125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="2652.01171875">OnRemoveTrack</tspan></text><line x1="1013.7578125" x2="4415.09375" y1="1523.609375" y2="1523.609375" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="2647.21484375" y="1554.125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="2647.21484375">OnRemoveStream</tspan></text><line x1="1013.7578125" x2="4415.09375" y1="1561.609375" y2="1561.609375" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="note"><rect x="1033.7578125" y="1581.609375" width="288.453125" height="28" stroke="#000000" fill="#ffffff" style="stroke-width: 2px;"></rect><text x="1038.7578125" y="1601.125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1038.7578125">return DoSetRemoteDescription</tspan></text></g><g class="signal"><text x="2570.40234375" y="1640.125" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="2570.40234375">OnSetRemoteDescriptionComplete</tspan></text><line x1="1013.7578125" x2="4415.09375" y1="1647.609375" y2="1647.609375" stroke="#000000" fill="none" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g></svg>